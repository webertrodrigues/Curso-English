<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart√£o de Ingl√™s - Aula 3: Cores e Formas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Playfair+Display:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --wine: #722F37;
            --cream: #F5F1E8;
            --navy: #2C3E50;
            --gold: #D4AF37;
            --dark-wine: #5A252A;
            --light-gold: #F4E4BC;
        }
        
        .font-baskerville { font-family: 'Libre Baskerville', serif; }
        .font-playfair { font-family: 'Playfair Display', serif; }
        
        .vintage-card {
            background: linear-gradient(135deg, var(--cream) 0%, #F8F5F0 100%);
            border: 3px solid var(--wine);
            box-shadow: 
                0 8px 32px rgba(114, 47, 55, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        
        .ornament-border {
            border-image: linear-gradient(45deg, var(--gold), var(--wine), var(--gold)) 1;
            border-width: 2px;
            border-style: solid;
        }
        
        .text-wine { color: var(--wine); }
        .text-navy { color: var(--navy); }
        .text-gold { color: var(--gold); }
        .bg-wine { background-color: var(--wine); }
        .bg-navy { background-color: var(--navy); }
        .bg-gold { background-color: var(--gold); }
        .bg-light-gold { background-color: var(--light-gold); }
        
        .vintage-button {
            background: linear-gradient(135deg, var(--gold) 0%, var(--dark-wine) 100%);
            transition: all 0.3s ease;
        }
        
        .vintage-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(114, 47, 55, 0.3);
        }
        
        .pronunciation {
            background: linear-gradient(135deg, var(--light-gold) 0%, var(--cream) 100%);
            border-left: 4px solid var(--gold);
        }
        
        .dialogue-box {
            background: rgba(44, 62, 80, 0.05);
            border-left: 4px solid var(--navy);
        }
        
        .vocabulary-item {
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(114, 47, 55, 0.1);
        }
        
        .vocabulary-item:hover {
            background: rgba(212, 175, 55, 0.1);
            transform: translateX(5px);
        }
        
        .color-box {
            width: 30px;
            height: 30px;
            border: 1px solid rgba(0,0,0,0.1);
            display: inline-block;
            vertical-align: middle;
            margin-right: 8px;
            border-radius: 4px;
        }
        
        .shape-icon {
            display: inline-block;
            vertical-align: middle;
            margin-right: 8px;
            width: 30px;
            height: 30px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .shape-circle { border-radius: 50%; background-color: #D4AF37; }
        .shape-square { background-color: #722F37; }
        .shape-triangle { 
            width: 0; 
            height: 0; 
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-bottom: 30px solid #2C3E50;
            margin-top: 5px;
        }
        .shape-rectangle { width: 40px; height: 25px; background-color: #F4E4BC; }
        .shape-star { 
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            background-color: #D4AF37;
        }
        .shape-heart { 
            position: relative;
            width: 30px;
            height: 27px;
            background-color: #722F37;
            transform: rotate(-45deg);
            margin-top: 5px;
        }
        .shape-heart::before, .shape-heart::after {
            content: '';
            position: absolute;
            width: 30px;
            height: 27px;
            background-color: #722F37;
            border-radius: 50%;
        }
        .shape-heart::before {
            top: -15px;
            left: 0;
        }
        .shape-heart::after {
            left: 15px;
            top: 0;
        }

        .ornament {
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--gold), transparent);
            margin: 0 auto;
        }
        
        .hidden-answer {
            display: none;
        }
        
        .show-answer {
            display: block;
        }
        
        @media (max-width: 768px) {
            .vintage-card {
                margin: 1rem;
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen py-8">
    <div class="container mx-auto px-4 max-w-4xl">
        <!-- Cart√£o Principal -->
        <div class="vintage-card rounded-lg p-8 mb-8">
            <!-- Cabe√ßalho -->
            <header class="text-center mb-8">
                <div class="ornament mb-4"></div>
                <h1 class="font-playfair text-4xl font-bold text-wine mb-2">
                    English Learning Card
                </h1>
                <h2 class="font-baskerville text-2xl text-navy mb-4">
                    Aula 3: Cores e Formas
                </h2>
                <div class="ornament"></div>
            </header>

            <!-- Frase do Dia -->
            <section class="mb-8">
                <h3 class="font-playfair text-xl font-bold text-wine mb-4 text-center">
                    ‚ú® Frase do Dia
                </h3>
                <div class="dialogue-box p-6 rounded-lg">
                    <p class="font-baskerville text-lg text-navy text-center italic">
                        "What color is your car?"
                    </p>
                    <p class="font-baskerville text-base text-gray-600 text-center mt-2">
                        "Qual √© a cor do seu carro?"
                    </p>
                </div>
            </section>

            <!-- Vocabul√°rio Essencial - Cores -->
            <section class="mb-8">
                <h3 class="font-playfair text-xl font-bold text-wine mb-4 flex items-center">
                    üåà Cores
                </h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <button onclick="speak3('Red')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="color-box bg-red-500"></span>
                            <span class="font-baskerville font-bold text-navy">Red</span>
                            <span class="text-gray-600 ml-2">‚Üí Vermelho</span>
                        </div>
                    </button>
                    <button onclick="speak3('Blue')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="color-box bg-blue-500"></span>
                            <span class="font-baskerville font-bold text-navy">Blue</span>
                            <span class="text-gray-600 ml-2">‚Üí Azul</span>
                        </div>
                    </button>
                    <button onclick="speak3('Green')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="color-box bg-green-500"></span>
                            <span class="font-baskerville font-bold text-navy">Green</span>
                            <span class="text-gray-600 ml-2">‚Üí Verde</span>
                        </div>
                    </button>
                    <button onclick="speak3('Yellow')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="color-box bg-yellow-500"></span>
                            <span class="font-baskerville font-bold text-navy">Yellow</span>
                            <span class="text-gray-600 ml-2">‚Üí Amarelo</span>
                        </div>
                    </button>
                    <button onclick="speak3('Black')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="color-box bg-black"></span>
                            <span class="font-baskerville font-bold text-navy">Black</span>
                            <span class="text-gray-600 ml-2">‚Üí Preto</span>
                        </div>
                    </button>
                    <button onclick="speak3('White')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="color-box bg-white border border-gray-300"></span>
                            <span class="font-baskerville font-bold text-navy">White</span>
                            <span class="text-gray-600 ml-2">‚Üí Branco</span>
                        </div>
                    </button>
                </div>
            </section>

            <!-- Vocabul√°rio Essencial - Formas -->
            <section class="mb-8">
                <h3 class="font-playfair text-xl font-bold text-wine mb-4 flex items-center">
                    üî∫ Formas
                </h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <button onclick="speak3('Circle')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="shape-icon shape-circle"></span>
                            <span class="font-baskerville font-bold text-navy">Circle</span>
                            <span class="text-gray-600 ml-2">‚Üí C√≠rculo</span>
                        </div>
                    </button>
                    <button onclick="speak3('Square')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="shape-icon shape-square"></span>
                            <span class="font-baskerville font-bold text-navy">Square</span>
                            <span class="text-gray-600 ml-2">‚Üí Quadrado</span>
                        </div>
                    </button>
                    <button onclick="speak3('Triangle')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="shape-icon shape-triangle"></span>
                            <span class="font-baskerville font-bold text-navy">Triangle</span>
                            <span class="text-gray-600 ml-2">‚Üí Tri√¢ngulo</span>
                        </div>
                    </button>
                    <button onclick="speak3('Rectangle')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="shape-icon shape-rectangle"></span>
                            <span class="font-baskerville font-bold text-navy">Rectangle</span>
                            <span class="text-gray-600 ml-2">‚Üí Ret√¢ngulo</span>
                        </div>
                    </button>
                    <button onclick="speak3('Star')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="shape-icon shape-star"></span>
                            <span class="font-baskerville font-bold text-navy">Star</span>
                            <span class="text-gray-600 ml-2">‚Üí Estrela</span>
                        </div>
                    </button>
                    <button onclick="speak3('Heart')">
                        <div class="vocabulary-item p-3 rounded flex items-center">
                            <span class="shape-icon shape-heart"></span>
                            <span class="font-baskerville font-bold text-navy">Heart</span>
                            <span class="text-gray-600 ml-2">‚Üí Cora√ß√£o</span>
                        </div>
                    </button>
                </div>
            </section>

            <!-- Di√°logo -->
            <section class="mb-8">
                <h3 class="font-playfair text-xl font-bold text-wine mb-4">
                    üí¨ Di√°logo Simples
                </h3>
                <div class="dialogue-box p-6 rounded-lg">
                    <div class="mb-4">
                        <p class="font-baskerville text-navy">
                            <strong class="text-wine">Child:</strong> Look, mommy! A red car!
                        </p>
                        <p class="font-baskerville text-sm text-gray-600 ml-4">
                            (Olha, mam√£e! Um carro vermelho!)
                        </p>
                    </div>
                    <div class="mb-4">
                        <p class="font-baskerville text-navy">
                            <strong class="text-wine">Mom:</strong> Yes, darling. And what shape is the wheel?
                        </p>
                        <p class="font-baskerville text-sm text-gray-600 ml-4">
                            (Sim, querido(a). E qual √© a forma da roda?)
                        </p>
                    </div>
                    <div>
                        <p class="font-baskerville text-navy">
                            <strong class="text-wine">Child:</strong> It's a circle!
                        </p>
                        <p class="font-baskerville text-sm text-gray-600 ml-4">
                            (√â um c√≠rculo!)
                        </p>
                    </div>
                </div>
            </section>

            <!-- Texto para Tradu√ß√£o -->
            <section class="mb-8">
                <h3 class="font-playfair text-xl font-bold text-wine mb-4">
                    üìù Texto para Tradu√ß√£o
                </h3>
                <div class="bg-light-gold p-6 rounded-lg">
                    <p class="font-baskerville text-navy text-lg mb-4">
                        "I have a green ball and a yellow toy. My house has a brown door and white windows. I like to draw stars and hearts."
                    </p>
                    <button onclick="toggleTranslation()" class="vintage-button text-white px-4 py-2 rounded font-baskerville">
                        Ver Tradu√ß√£o
                    </button>
                    <div id="translation" class="hidden-answer mt-4 p-4 bg-white rounded border-l-4 border-wine">
                        <p class="font-baskerville text-navy">
                            "Eu tenho uma bola verde e um brinquedo amarelo. Minha casa tem uma porta marrom e janelas brancas. Eu gosto de desenhar estrelas e cora√ß√µes."
                        </p>
                    </div>
                </div>
            </section>

            <!-- Perguntas para Pr√°tica -->
            <section class="mb-8">
                <h3 class="font-playfair text-xl font-bold text-wine mb-4">
                    ‚ùì Perguntas para Pr√°tica
                </h3>
                <div class="space-y-4">
                    <div class="bg-white p-4 rounded-lg border-l-4 border-navy">
                        <p class="font-baskerville text-navy mb-2">
                            1. Qual a cor da grama?
                        </p>
                        <button onclick="toggleAnswer(1)" class="vintage-button text-white px-3 py-1 rounded text-sm">
                            Ver Resposta
                        </button>
                        <div id="answer1" class="hidden-answer mt-2 text-wine font-bold">
                            Green
                        </div>
                    </div>
                    
                    <div class="bg-white p-4 rounded-lg border-l-4 border-navy">
                        <p class="font-baskerville text-navy mb-2">
                            2. Como se diz "quadrado" em ingl√™s?
                        </p>
                        <button onclick="toggleAnswer(2)" class="vintage-button text-white px-3 py-1 rounded text-sm">
                            Ver Resposta
                        </button>
                        <div id="answer2" class="hidden-answer mt-2 text-wine font-bold">
                            Square
                        </div>
                    </div>
                    
                    <div class="bg-white p-4 rounded-lg border-l-4 border-navy">
                        <p class="font-baskerville text-navy mb-2">
                            3. Traduza: "Minha caneta √© azul."
                        </p>
                        <button onclick="toggleAnswer(3)" class="vintage-button text-white px-3 py-1 rounded text-sm">
                            Ver Resposta
                        </button>
                        <div id="answer3" class="hidden-answer mt-2 text-wine font-bold">
                            My pen is blue.
                        </div>
                    </div>
                </div>
            </section>

            <!-- Bot√£o para Iniciar Prova -->
            <section class="mb-8 text-center">
                <button onclick="startTest()" class="vintage-button text-white px-6 py-3 rounded-lg font-baskerville text-lg">
                    üéØ Iniciar Prova
                </button>
            </section>

            <!-- Pron√∫ncia -->
            <section class="mb-8">
                <h3 class="font-playfair text-xl font-bold text-wine mb-4">
                    üîä Dicas de Pron√∫ncia
                </h3>
                <div class="space-y-4">
                    <div class="pronunciation p-4 rounded-lg">
                        <p class="font-baskerville text-navy">
                            <strong>Red</strong> /r…õd/ - O 'r' √© suave, e o 'e' tem som de '√©' aberto.
                        </p>
                    </div>
                    <div class="pronunciation p-4 rounded-lg">
                        <p class="font-baskerville text-navy">
                            <strong>Yellow</strong> /Ààj…õlo ä/ - O 'y' tem som de 'i' curto, e o 'ow' tem som de 'ou'.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Rodap√© com Dicas -->
            <footer class="text-center pt-6 border-t-2 border-wine">
                <div class="ornament mb-4"></div>
                <h4 class="font-playfair text-lg font-bold text-wine mb-2">
                    üí° Dica de Memoriza√ß√£o
                </h4>
                <p class="font-baskerville text-navy">
                    Associe as cores a objetos do seu dia a dia. Por exemplo, "red apple" (ma√ß√£ vermelha), "blue sky" (c√©u azul). Para as formas, desenhe-as enquanto fala seus nomes em ingl√™s.
                </p>
                <div class="ornament mt-4"></div>
            </footer>
        </div>

        <!-- Nota de Uso -->
        <div class="bg-navy text-white p-6 rounded-lg">
            <h4 class="font-playfair text-lg font-bold mb-2">üìã Como Usar Este Cart√£o</h4>
            <ul class="font-baskerville space-y-1">
                <li>‚Ä¢ Clique nos bot√µes "Ver Resposta" para revelar as respostas das perguntas</li>
                <li>‚Ä¢ Clique em "Ver Tradu√ß√£o" para mostrar a tradu√ß√£o do texto</li>
                <li>‚Ä¢ Pratique a pron√∫ncia usando as dicas fon√©ticas fornecidas</li>
                <li>‚Ä¢ Revise o vocabul√°rio passando o mouse sobre as palavras</li>
            </ul>
        </div>
    </div>

    <!-- Modal da Prova -->
    <div id="testModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="vintage-card rounded-lg p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="font-playfair text-2xl font-bold text-wine">üìù Prova de Conhecimento</h3>
                <button onclick="closeTest()" class="text-wine hover:text-dark-wine text-2xl">&times;</button>
            </div>
            
            <div id="testQuestions" class="space-y-6">
                <!-- Quest√µes ser√£o inseridas aqui pelo JavaScript -->
            </div>
            
            <div class="mt-8 text-center">
                <button onclick="submitTest()" class="vintage-button text-white px-6 py-3 rounded-lg font-baskerville text-lg">
                    ‚úÖ Finalizar Prova
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Resultados -->
    <div id="resultsModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="vintage-card rounded-lg p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="font-playfair text-2xl font-bold text-wine">üìä Resultado da Prova</h3>
                <button onclick="closeResults()" class="text-wine hover:text-dark-wine text-2xl">&times;</button>
            </div>
            
            <div id="testResults">
                <!-- Resultados ser√£o inseridos aqui pelo JavaScript -->
            </div>
            
            <div class="mt-8 text-center">
                <button onclick="closeResults()" class="vintage-button text-white px-6 py-3 rounded-lg font-baskerville text-lg">
                    üè† Voltar ao In√≠cio
                </button>
            </div>
        </div>
    </div>

    <script>
        function toggleAnswer(questionNumber) {
            const answer = document.getElementById('answer' + questionNumber);
            answer.classList.toggle('hidden-answer');
            answer.classList.toggle('show-answer');
        }
        
        function toggleTranslation() {
            const translation = document.getElementById('translation');
            translation.classList.toggle('hidden-answer');
            translation.classList.toggle('show-answer');
        }

        function speak3(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US'; // idioma
            utterance.rate = 0.5; // Velocidade (1 = normal, 0.8 = mais lento, 1.5 = mais r√°pido)
            speechSynthesis.speak(utterance);
        }

        // Vari√°veis globais
        let testAnswers = {};
        const testQuestions = [
            {
                question: "1. Como se diz 'verde' em ingl√™s?",
                options: [
                    { text: "a) Blue", correct: false, feedback: "'Blue' √© azul, n√£o verde" },
                    { text: "b) Green", correct: true, feedback: "Correto! 'Green' significa verde em ingl√™s" },
                    { text: "c) Red", correct: false, feedback: "'Red' √© vermelho, n√£o verde" },
                    { text: "d) Yellow", correct: false, feedback: "'Yellow' √© amarelo, n√£o verde" }
                ]
            },
            {
                question: "2. Qual forma tem tr√™s lados?",
                options: [
                    { text: "a) Square", correct: false, feedback: "Um quadrado tem quatro lados" },
                    { text: "b) Circle", correct: false, feedback: "Um c√≠rculo n√£o tem lados" },
                    { text: "c) Triangle", correct: true, feedback: "Correto! 'Triangle' significa tri√¢ngulo" },
                    { text: "d) Rectangle", correct: false, feedback: "Um ret√¢ngulo tem quatro lados" }
                ]
            },
            {
                question: "3. Qual √© a cor do sol?",
                options: [
                    { text: "a) Blue", correct: false, feedback: "O c√©u √© azul, n√£o o sol" },
                    { text: "b) White", correct: false, feedback: "O sol parece branco √†s vezes, mas √© amarelo" },
                    { text: "c) Yellow", correct: true, feedback: "Correto! O sol √© amarelo ('Yellow')" },
                    { text: "d) Black", correct: false, feedback: "O sol n√£o √© preto" }
                ]
            },
            {
                question: "4. Como se diz 'estrela' em ingl√™s?",
                options: [
                    { text: "a) Heart", correct: false, feedback: "'Heart' √© cora√ß√£o, n√£o estrela" },
                    { text: "b) Star", correct: true, feedback: "Correto! 'Star' significa estrela" },
                    { text: "c) Circle", correct: false, feedback: "'Circle' √© c√≠rculo, n√£o estrela" },
                    { text: "d) Square", correct: false, feedback: "'Square' √© quadrado, n√£o estrela" }
                ]
            },
            {
                question: "5. Qual forma √© usada para rodas?",
                options: [
                    { text: "a) Triangle", correct: false, feedback: "Rodas n√£o s√£o triangulares" },
                    { text: "b) Rectangle", correct: false, feedback: "Rodas n√£o s√£o retangulares" },
                    { text: "c) Circle", correct: true, feedback: "Correto! Rodas s√£o c√≠rculos ('Circle')" },
                    { text: "d) Star", correct: false, feedback: "Rodas n√£o t√™m forma de estrela" }
                ]
            },
            {
                question: "6. Qual √© a tradu√ß√£o de 'My notebook is black'?",
                options: [
                    { text: "a) Minha caneta √© preta", correct: false, feedback: "'Notebook' n√£o √© caneta ('pen')" },
                    { text: "b) Meu caderno √© preto", correct: true, feedback: "Correto! 'Notebook' significa caderno" },
                    { text: "c) Minha mesa √© preta", correct: false, feedback: "'Notebook' n√£o √© mesa ('table')" },
                    { text: "d) Meu livro √© preto", correct: false, feedback: "'Notebook' √© caderno, n√£o livro ('book')" }
                ]
            },
            {
                question: "7. Qual forma tem quatro lados iguais?",
                options: [
                    { text: "a) Rectangle", correct: false, feedback: "Ret√¢ngulos t√™m lados opostos iguais" },
                    { text: "b) Triangle", correct: false, feedback: "Tri√¢ngulos t√™m tr√™s lados" },
                    { text: "c) Square", correct: true, feedback: "Correto! Quadrados t√™m quatro lados iguais" },
                    { text: "d) Heart", correct: false, feedback: "Cora√ß√µes n√£o s√£o formas geom√©tricas com lados" }
                ]
            },
            {
                question: "8. Qual √© a cor do c√©u durante o dia?",
                options: [
                    { text: "a) Green", correct: false, feedback: "O c√©u n√£o √© verde durante o dia" },
                    { text: "b) Black", correct: false, feedback: "O c√©u √© preto √† noite, n√£o de dia" },
                    { text: "c) Blue", correct: true, feedback: "Correto! O c√©u diurno √© azul ('Blue')" },
                    { text: "d) Red", correct: false, feedback: "O c√©u fica avermelhado no p√¥r do sol, mas n√£o o dia todo" }
                ]
            }
        ];

        // Fun√ß√£o para iniciar a prova
        function startTest() {
            testAnswers = {};
            const testContainer = document.getElementById('testQuestions');
            testContainer.innerHTML = '';
            
            testQuestions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'bg-white p-4 rounded-lg border-l-4 border-navy';
                
                const questionText = document.createElement('p');
                questionText.className = 'font-baskerville text-navy mb-3 font-bold';
                questionText.textContent = question.question;
                questionDiv.appendChild(questionText);
                
                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'space-y-2';
                
                question.options.forEach((option, optionIndex) => {
                    const label = document.createElement('label');
                    label.className = 'flex items-center';
                    
                    const input = document.createElement('input');
                    input.type = 'radio';
                    input.name = 'q' + (index + 1);
                    input.value = optionIndex;
                    input.className = 'mr-2';
                    input.onclick = function() { testAnswers[index + 1] = optionIndex; };
                    
                    const span = document.createElement('span');
                    span.className = 'font-baskerville';
                    span.textContent = option.text;
                    
                    label.appendChild(input);
                    label.appendChild(span);
                    optionsDiv.appendChild(label);
                });
                
                questionDiv.appendChild(optionsDiv);
                testContainer.appendChild(questionDiv);
            });
            
            document.getElementById('testModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Impede rolagem da p√°gina principal
        }

        // Fun√ß√£o para fechar a prova
        function closeTest() {
            document.getElementById('testModal').classList.add('hidden');
            document.body.style.overflow = 'auto'; // Restaura rolagem
        }

        // Fun√ß√£o para fechar os resultados
        function closeResults() {
            document.getElementById('resultsModal').classList.add('hidden');
            document.body.style.overflow = 'auto'; // Restaura rolagem
        }

        // Fun√ß√£o para submeter a prova
        function submitTest() {
            let score = 0;
            let resultsHTML = '<div class="space-y-4">';
            
            testQuestions.forEach((question, index) => {
                const questionNumber = index + 1;
                const userAnswer = testAnswers[questionNumber];
                const isCorrect = userAnswer !== undefined && question.options[userAnswer].correct;
                
                if (isCorrect) {
                    score++;
                    resultsHTML += `<div class="p-4 bg-green-50 rounded-lg border-l-4 border-green-500">`;
                    resultsHTML += `<p class="font-baskerville font-bold text-green-700">Quest√£o ${questionNumber}: ‚úÖ Correta</p>`;
                    resultsHTML += `<p class="font-baskerville text-navy mt-2">${question.options[userAnswer].feedback}</p>`;
                } else {
                    resultsHTML += `<div class="p-4 bg-red-50 rounded-lg border-l-4 border-red-500">`;
                    resultsHTML += `<p class="font-baskerville font-bold text-wine">Quest√£o ${questionNumber}: ‚ùå Incorreta</p>`;
                    
                    if (userAnswer !== undefined) {
                        resultsHTML += `<p class="font-baskerville text-navy mt-2">${question.options[userAnswer].feedback}</p>`;
                    } else {
                        resultsHTML += `<p class="font-baskerville text-navy mt-2">Voc√™ n√£o respondeu esta quest√£o.</p>`;
                    }
                    
                    // Mostrar a resposta correta
                    const correctOption = question.options.find(opt => opt.correct);
                    resultsHTML += `<p class="font-baskerville text-navy mt-2"><strong>Resposta correta:</strong> ${correctOption.text.replace(/^[a-z]\)\s/, '')}</p>`;
                }
                
                resultsHTML += `</div>`;
            });
            
            resultsHTML += `<div class="mt-6 p-4 bg-light-gold rounded-lg text-center">`;
            resultsHTML += `<p class="font-playfair text-2xl font-bold text-wine">Pontua√ß√£o Final: ${score} de ${testQuestions.length}</p>`;
            resultsHTML += `<p class="font-baskerville text-navy mt-2 text-lg">${getScoreMessage(score, testQuestions.length)}</p>`;
            resultsHTML += `</div></div>`;
            
            // Fecha o modal da prova e abre o de resultados
            closeTest();
            document.getElementById('testResults').innerHTML = resultsHTML;
            document.getElementById('resultsModal').classList.remove('hidden');
        }

        // Fun√ß√£o para mensagem de pontua√ß√£o
        function getScoreMessage(score, total) {
            const percentage = (score / total) * 100;
            
            if (percentage >= 90) return 'üèÜ Excelente! Voc√™ domina cores e formas em ingl√™s!';
            if (percentage >= 70) return 'üëç Muito bom! Voc√™ conhece bem cores e formas em ingl√™s!';
            if (percentage >= 50) return 'üëå Bom trabalho! Revise um pouco mais para melhorar!';
            return '‚úèÔ∏è Continue praticando! Revise as cores e formas para melhorar!';
        }

        // Fun√ß√µes existentes (mantenha as que j√° est√£o no seu c√≥digo)
        function toggleAnswer(questionNumber) {
            const answer = document.getElementById('answer' + questionNumber);
            answer.classList.toggle('hidden-answer');
            answer.classList.toggle('show-answer');
        }
        
        function toggleTranslation() {
            const translation = document.getElementById('translation');
            translation.classList.toggle('hidden-answer');
            translation.classList.toggle('show-answer');
        }

        function speak3(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US';
            utterance.rate = 0.5;
            speechSynthesis.speak(utterance);
        }
    </script>
</body>
</html>

